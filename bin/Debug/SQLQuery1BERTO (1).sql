/*DROP TABLE IF EXISTS CLIENTE;
DROP TABLE IF EXISTS CLIENTES;
DROP TABLE IF EXISTS DEVOLUCAO;
DROP TABLE IF EXISTS CATALOGO;
DROP TABLE IF EXISTS USUARIO;
DROP TABLE IF EXISTS ALUGUEL;
HUMBERTO_LOCADORA bloq VARCHAR(11)*/

CREATE TABLE CLIENTES (
cpf VARCHAR(14) not null PRIMARY KEY,
data_nasc VARCHAR(10),
nome VARCHAR(60),
cep VARCHAR(11),
endereco VARCHAR(50),
comp VARCHAR(20),
bairro VARCHAR(40),
cidade VARCHAR(35),
uf VARCHAR(2),
fone_res VARCHAR(16),
celular VARCHAR(17),
email VARCHAR(60),
foto VARCHAR(300)
);

CREATE TABLE DEVOLUCAO (
ID_DEVOLUCAO int PRIMARY KEY,
cpf VARCHAR(14),
ID_ALUGUEL INT
);

CREATE TABLE CATALOGO (
ID_CATALOGO int PRIMARY KEY,
NOME VARCHAR(60),
GENERO VARCHAR(30),
EAN VARCHAR (30),
QUANTIDADE VARCHAR (100)
);

CREATE TABLE USUARIO (
cpf VARCHAR(14) PRIMARY KEY,
data_nasc VARCHAR(10),
nome VARCHAR(60),
cep VARCHAR(11),
endereco VARCHAR(50),
comp VARCHAR(20),
bairro VARCHAR(40),
cidade VARCHAR(35),
uf VARCHAR(2),
fone_res VARCHAR(16),
celular VARCHAR(17),
email VARCHAR(60),
senha Varchar(30),
foto VARCHAR(300)
);

CREATE TABLE ALUGUEL (
ID_ALUGUEL INT IDENTITY(1,1) PRIMARY KEY,
cpf VARCHAR(14),
ID_CATALOGO INT,
data_aluguel DATETIME DEFAULT GETDATE(),
devolvido bit DEFAULT 0
);

ALTER  TABLE ALUGUEL ADD FOREIGN KEY(cpf) REFERENCES CLIENTES (cpf);
ALTER  TABLE ALUGUEL ADD FOREIGN KEY(ID_CATALOGO) REFERENCES CATALOGO (ID_CATALOGO);

ALTER  TABLE DEVOLUCAO ADD FOREIGN KEY(cpf) REFERENCES CLIENTES (cpf);
ALTER  TABLE DEVOLUCAO ADD FOREIGN KEY(ID_ALUGUEL) REFERENCES ALUGUEL (ID_ALUGUEL);